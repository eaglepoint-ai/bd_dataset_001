{
    "instance_id": "9d78d1-High-Performance_Rolling_Median_for_Real-Time_Streams",
    "problem_statement": "You are a Data Scientist processing real-time stock tick streams exceeding 10,000 updates/sec where delays can cost millions, and the current RollingMedian class stores 1,000,000 prices in memory with O(n log n) sorting causing out-of-memory errors and slow updates, so refactor it in repository_before/rolling_median.py (Python 3.11) to compute the exact rolling median of the last 1,000,000 integer prices (0â€“10,000) using constant or near-constant memory independent of window size, returning a float median (average for even counts) exactly, implementing advanced data structures to support O(log n) insertion/deletion and O(1)/O(log n) median queries, handling duplicates, underfilled windows, negative/overflow prices, deterministic results, and edge cases while meeting sub-millisecond performance, using allowed structures like two heaps, balanced BST, or Fenwick tree, disallowing full arrays or external libs, including proof of correctness with invariants, and benchmarking 1M adds in <1s.",
    "base_commit": "repository_before",
    "test_patch": "tests/",
    "github_url": "https://github.com/eaglepoint-ai/bd_dataset_001/tree/main/61ee8c-High-Performance_Rolling_Median_for_Real-Time_Streams",
    "environment_setup": "Dockerfile"
  }
  
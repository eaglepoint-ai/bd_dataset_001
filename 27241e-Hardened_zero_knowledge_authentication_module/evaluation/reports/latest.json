{
  "run_id": "d092f89f-a52e-4da9-9d13-1819cb12adf6",
  "started_at": "2026-01-14T14:58:49.463Z",
  "finished_at": "2026-01-14T14:58:52.836Z",
  "duration": 3.373,
  "environment": {
    "node_version": "v18.20.8",
    "platform": "linux-x64"
  },
  "before": {
    "passed": false,
    "summary": {
      "numTotalTests": 5,
      "numPassedTests": 4,
      "numFailedTests": 1
    },
    "raw_output": "{\"numFailedTestSuites\":1,\"numFailedTests\":1,\"numPassedTestSuites\":0,\"numPassedTests\":4,\"numPendingTestSuites\":0,\"numPendingTests\":0,\"numRuntimeErrorTestSuites\":0,\"numTodoTests\":0,\"numTotalTestSuites\":1,\"numTotalTests\":5,\"openHandles\":[],\"snapshot\":{\"added\":0,\"didUpdate\":false,\"failure\":false,\"filesAdded\":0,\"filesRemoved\":0,\"filesRemovedList\":[],\"filesUnmatched\":0,\"filesUpdated\":0,\"matched\":0,\"total\":0,\"unchecked\":0,\"uncheckedKeysByFile\":[],\"unmatched\":0,\"updated\":0},\"startTime\":1768402730746,\"success\":false,\"testResults\":[{\"assertionResults\":[{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":1,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 1. Should register a user without error\",\"invocations\":1,\"location\":{\"column\":5,\"line\":12},\"numPassingAsserts\":0,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"1. Should register a user without error\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":2,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 2. Should authenticate successfully with correct credentials\",\"invocations\":1,\"location\":{\"column\":5,\"line\":17},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"2. Should authenticate successfully with correct credentials\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":0,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 3. Should reject wrong password\",\"invocations\":1,\"location\":{\"column\":5,\"line\":22},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"3. Should reject wrong password\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":1,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 4. Should reject unknown user\",\"invocations\":1,\"location\":{\"column\":5,\"line\":27},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"4. Should reject unknown user\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":2,\"failureDetails\":[{\"matcherResult\":{\"message\":\"expect(received).toBeInstanceOf(expected)\\n\\nExpected constructor: Promise\\n\\nReceived value has no prototype\\nReceived value: true\",\"pass\":false}}],\"failureMessages\":[\"Error: expect(received).toBeInstanceOf(expected)\\n\\nExpected constructor: Promise\\n\\nReceived value has no prototype\\nReceived value: true\\n    at Object.toBeInstanceOf (/app/tests/test_shared.js:42:22)\\n    at Promise.then.completed (/app/node_modules/jest-circus/build/utils.js:298:28)\\n    at new Promise (<anonymous>)\\n    at callAsyncCircusFn (/app/node_modules/jest-circus/build/utils.js:231:10)\\n    at _callCircusTest (/app/node_modules/jest-circus/build/run.js:316:40)\\n    at _runTest (/app/node_modules/jest-circus/build/run.js:252:3)\\n    at _runTestsForDescribeBlock (/app/node_modules/jest-circus/build/run.js:126:9)\\n    at _runTestsForDescribeBlock (/app/node_modules/jest-circus/build/run.js:121:9)\\n    at run (/app/node_modules/jest-circus/build/run.js:71:3)\\n    at runAndTransformResultsToJestFormat (/app/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\\n    at jestAdapter (/app/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\\n    at runTestInternal (/app/node_modules/jest-runner/build/runTest.js:367:16)\\n    at runTest (/app/node_modules/jest-runner/build/runTest.js:444:34)\"],\"fullName\":\"Authentication Public API 5. [Security Requirement] API must be Asynchronous (Web Crypto)\",\"invocations\":1,\"location\":{\"column\":5,\"line\":34},\"numPassingAsserts\":0,\"retryReasons\":[],\"status\":\"failed\",\"title\":\"5. [Security Requirement] API must be Asynchronous (Web Crypto)\"}],\"endTime\":1768402731318,\"message\":\"  ● Authentication Public API › 5. [Security Requirement] API must be Asynchronous (Web Crypto)\\n\\n    expect(received).toBeInstanceOf(expected)\\n\\n    Expected constructor: Promise\\n\\n    Received value has no prototype\\n    Received value: true\\n\\n      40 |\\n      41 |       // This assertion ensures we are using modern Async Crypto\\n    > 42 |       expect(result).toBeInstanceOf(Promise);\\n         |                      ^\\n      43 |     });\\n      44 |   });\\n      45 | }\\n\\n      at Object.toBeInstanceOf (tests/test_shared.js:42:22)\\n\",\"name\":\"/app/tests/test_before.test.js\",\"startTime\":1768402730796,\"status\":\"failed\",\"summary\":\"\"}],\"wasInterrupted\":false}\nFAIL tests/test_before.test.js\n  Authentication Public API\n    ✓ 1. Should register a user without error (1 ms)\n    ✓ 2. Should authenticate successfully with correct credentials (2 ms)\n    ✓ 3. Should reject wrong password\n    ✓ 4. Should reject unknown user (1 ms)\n    ✕ 5. [Security Requirement] API must be Asynchronous (Web Crypto) (2 ms)\n\n  ● Authentication Public API › 5. [Security Requirement] API must be Asynchronous (Web Crypto)\n\n    expect(received).toBeInstanceOf(expected)\n\n    Expected constructor: Promise\n\n    Received value has no prototype\n    Received value: true\n\n      40 |\n      41 |       // This assertion ensures we are"
  },
  "after": {
    "passed": true,
    "summary": {
      "numTotalTests": 5,
      "numPassedTests": 5,
      "numFailedTests": 0
    },
    "raw_output": "{\"numFailedTestSuites\":0,\"numFailedTests\":0,\"numPassedTestSuites\":1,\"numPassedTests\":5,\"numPendingTestSuites\":0,\"numPendingTests\":0,\"numRuntimeErrorTestSuites\":0,\"numTodoTests\":0,\"numTotalTestSuites\":1,\"numTotalTests\":5,\"openHandles\":[],\"snapshot\":{\"added\":0,\"didUpdate\":false,\"failure\":false,\"filesAdded\":0,\"filesRemoved\":0,\"filesRemovedList\":[],\"filesUnmatched\":0,\"filesUpdated\":0,\"matched\":0,\"total\":0,\"unchecked\":0,\"uncheckedKeysByFile\":[],\"unmatched\":0,\"updated\":0},\"startTime\":1768402732206,\"success\":true,\"testResults\":[{\"assertionResults\":[{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":23,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 1. Should register a user without error\",\"invocations\":1,\"location\":{\"column\":5,\"line\":12},\"numPassingAsserts\":0,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"1. Should register a user without error\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":1,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 2. Should authenticate successfully with correct credentials\",\"invocations\":1,\"location\":{\"column\":5,\"line\":17},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"2. Should authenticate successfully with correct credentials\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":1,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 3. Should reject wrong password\",\"invocations\":1,\"location\":{\"column\":5,\"line\":22},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"3. Should reject wrong password\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":0,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 4. Should reject unknown user\",\"invocations\":1,\"location\":{\"column\":5,\"line\":27},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"4. Should reject unknown user\"},{\"ancestorTitles\":[\"Authentication Public API\"],\"duration\":1,\"failureDetails\":[],\"failureMessages\":[],\"fullName\":\"Authentication Public API 5. [Security Requirement] API must be Asynchronous (Web Crypto)\",\"invocations\":1,\"location\":{\"column\":5,\"line\":34},\"numPassingAsserts\":1,\"retryReasons\":[],\"status\":\"passed\",\"title\":\"5. [Security Requirement] API must be Asynchronous (Web Crypto)\"}],\"endTime\":1768402732684,\"message\":\"\",\"name\":\"/app/tests/test_after.test.js\",\"startTime\":1768402732237,\"status\":\"passed\",\"summary\":\"\"}],\"wasInterrupted\":false}\n  console.log\n    User registered: user_1768402732645_599\n\n      at Object.log [as registerUser] (repository_after/index.js:46:11)\n\nPASS tests/test_after.test.js\n  Authentication Public API\n    ✓ 1. Should register a user without error (23 ms)\n    ✓ 2. Should authenticate successfully with correct credentials (1 ms)\n    ✓ 3. Should reject wrong password (1 ms)\n    ✓ 4. Should reject unknown user\n    ✓ 5. [Security Requirement] API must be Asynchronous (Web Crypto) (1 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       5 passed, 5 total\nSnapshots:   0 total\nTime:        0.482 s\nRan all test suites matching /tests\\/test_after.test.js/i.\n"
  },
  "success": true
}